<script src="/__/firebase/8.8.1/firebase-app.js"></script>
<script src="/__/firebase/8.8.1/firebase-database.js"></script>
<script src="/__/firebase/init.js?useEmulator=true"></script>
<script>
var db = firebase.database().ref('root/board');

// db.on('child_added', onAdded);
// db.on('child_changed', onChanged);
// db.on('child_removed', onRemove);


function onAdded(r) {
  console.log(r.val());
}

function onChanged(r) {
  console.log(r.val());
}

function onRemove(r) {
  console.log(r.val());
}


db.orderByKey().limitToLast(5).get().then(onGet).catch(onError); 
// -> orderByKey로 정렬하고 밑에서부터 5개 limit로 get해라 (최근글), 배열로 만들고 정렬을 다시 해줘야 함

function onGet(r){       // limitToLast 사용법
  var arr = [];
  r.forEach(function(v, i) {arr.push(v);})
  arr.reverse().forEach(function(v, i){
    console.log(v.key);
  })
}








</script>